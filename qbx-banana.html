<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Banana-Gram ‚Äî QBX Labs</title>
  <meta name="description" content="Send a virtual banana with a cheeky message. Choose a tone (prank, insult, wish, etc.), add a name, and share via WhatsApp.">

  <!-- Canonical -->
  <link rel="canonical" href="https://banana.qbx.app">

  <!-- Open Graph / Twitter -->
  <meta property="og:url" content="https://banana.qbx.app">
  <meta property="og:title" content="Banana-Gram ‚Äî QBX Labs">
  <meta property="og:description" content="Send a virtual banana with a cheeky message. Choose a tone, add a name, and share via WhatsApp.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://raw.githubusercontent.com/hubsienda/qbx/refs/heads/main/og-c-banana.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta name="twitter:card" content="summary_large_image">

  <style>
    :root{
      --bg:#0b0b0c;
      --ink:#f5f5f6;
      --muted:#b6b6ba;
      --card:#141417;
      --br:#232328;
      --accent:#8b5cf6;
      --ok:#22c55e
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      background:var(--bg);
      color:var(--ink);
      font:16px/1.55 system-ui,-apple-system,Segoe UI,Inter,Roboto,Arial,sans-serif
    }
    .wrap{
      max-width:980px;
      margin:0 auto;
      padding:24px
    }
    h1{
      font-size:clamp(26px,6vw,42px);
      margin:0 0 6px
    }
    .lead{
      color:var(--muted);
      margin:0 0 16px
    }
    .panel{
      background:var(--card);
      border:1px solid var(--br);
      border-radius:16px;
      padding:16px;
      margin:14px 0
    }
    .row{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center
    }
    .controls{
      display:grid;
      grid-template-columns:1fr;
      gap:12px
    }
    .choices{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
      gap:8px
    }
    .chip{
      cursor:pointer;
      border-radius:999px;
      border:1px solid #2b2b31;
      background:#111113;
      color:var(--ink);
      padding:9px 12px;
      text-align:center;
      font-weight:700
    }
    .chip.active{
      background:var(--accent);
      border-color:var(--accent)
    }
    input,button{
      border-radius:12px;
      border:1px solid #2b2b31;
      background:#111113;
      color:var(--ink);
      padding:10px 12px
    }
    button{
      cursor:pointer;
      font-weight:700
    }
    button.primary{
      background:var(--accent);
      border-color:var(--accent)
    }
    button:hover{
      filter:brightness(1.06)
    }
    label.small{
      font-size:13px;
      color:var(--muted);
      display:flex;
      gap:8px;
      align-items:center
    }
    .msg{
      font-size:clamp(18px,2.4vw,22px);
      background:#0f0f12;
      border:1px dashed #3a3a42;
      border-radius:14px;
      padding:16px;
      min-height:120px;
      line-height:1.6;
      margin-top:12px;
    }
    .small{
      font-size:13px;
      color:var(--muted)
    }
    .status{
      margin-left:auto
    }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>üçå Banana-Gram</h1>
    <p class="lead">Send a <strong>virtual banana</strong> with a cheeky message. Pick a vibe, add a name, and share.</p>

    <section class="panel">
      <div class="controls">
        <div class="row" style="justify-content:space-between;align-items:center">
          <div class="row" style="gap:8px">
            <span class="small">Tone</span>
          </div>
          <label class="small">
            <input id="pg" type="checkbox" checked> PG mode
          </label>
        </div>

        <div id="tones" class="choices" role="listbox" aria-label="Tone choices">
          <!-- chips injected by JS -->
        </div>

        <div class="row">
          <input id="name" type="text" placeholder="Recipient name (optional)" style="flex:1;min-width:220px"/>
          <button id="gen" class="primary">‚ú® Generate</button>
          <span id="status" class="small status">Ready.</span>
        </div>
      </div>

      <!-- Message Output (No Image) -->
      <div id="msg" class="msg">Your banana message will appear here. Keep it cheeky, not cruel.</div>

      <!-- Unified Share Bar -->
      <div style="margin-top:16px;">
        <iframe 
          src="https://hubsienda.github.io/my-share-bar/share-bar.html?ref=https://banana.qbx.app" 
          style="border:none; width:100%; max-width:240px; height:60px;" 
          frameborder="0"
          title="Share this banana">
        </iframe>
      </div>

      <p class="small" style="margin-top:16px">Be kind. Keep it PG with the toggle. No hate or harassment.</p>
    </section>
  </div>

  <script>
    // ===== Banana-Gram Logic =====
    function pick(arr) { return arr[Math.floor(Math.random() * arr.length)]; }
    function cap(s) { return s.charAt(0).toUpperCase() + s.slice(1); }
    function setStatus(msg) { document.getElementById('status').textContent = msg; }

    // Tone banks
    const TONES = {
      prank: [
        "I have a banana for you. It‚Äôs not a real one, but the thought counts.",
        "You‚Äôve been banana‚Äôd! This is your official notice.",
        "Hold still ‚Äî I‚Äôm sending a virtual banana to your general vicinity.",
        "This banana is 100% digital, 0% nutritious, and 100% for you.",
        "Banana alert: a yellow fruit has been teleported into your emotional space."
      ],
      insult: [
        "You‚Äôre about as useful as a chocolate teapot.",
        "Your brain needs a firmware update.",
        "Even a pigeon could‚Äôve done better ‚Äî and they don‚Äôt pay rent.",
        "You‚Äôve got the planning skills of a startled squirrel.",
        "If confusion were a sport, you‚Äôd be an Olympic gold medalist."
      ],
      wish: [
        "May your coffee be strong and your Mondays short.",
        "Wishing you a day so good, even your toaster approves.",
        "May your Wi-Fi be fast and your meetings short.",
        "Hope your day runs smoother than a well-oiled spreadsheet.",
        "Sending you good vibes and zero bugs."
      ],
      love: [
        "You‚Äôre the peanut butter to my jelly, the banana to my split.",
        "If I had a pound for every time I thought of you, I‚Äôd buy you a banana empire.",
        "You‚Äôre the only one who truly gets my vibe ‚Äî and my fruit-based humour.",
        "Roses are red, violets are blue, this banana‚Äôs for you.",
        "You‚Äôre the reason my brain has a smiley face."
      ]
    };

    // PG vs. spicy flavour
    const PG = [
      "This is a clean, polite banana. No mischief detected.",
      "The banana is friendly and fully compliant with office regulations.",
      "This banana has been vetted by the Ministry of Good Vibes.",
      "A certified PG banana ‚Äî suitable for all ages and Slack channels."
    ];

    const SPICY = [
      "This banana has a dark secret and a questionable past.",
      "The banana may or may not have unionized. Proceed with caution.",
      "This banana speaks only in riddles and sarcasm.",
      "Warning: this banana may cause uncontrollable giggling or mild panic."
    ];

    // DOM elements
    const tonesEl = document.getElementById('tones');
    const nameInput = document.getElementById('name');
    const msgEl = document.getElementById('msg');
    const pgToggle = document.getElementById('pg');
    const genBtn = document.getElementById('gen');

    // Create tone chips
    Object.keys(TONES).forEach(tone => {
      const chip = document.createElement('button');
      chip.className = 'chip';
      chip.textContent = cap(tone);
      chip.dataset.tone = tone;
      chip.addEventListener('click', function() {
        document.querySelectorAll('.chip').forEach(c => c.classList.remove('active'));
        this.classList.add('active');
      });
      tonesEl.appendChild(chip);
    });

    // Set first chip as active
    if (tonesEl.children[0]) tonesEl.children[0].click();

    // Generate message
    function generate() {
      const selectedTone = document.querySelector('.chip.active')?.dataset.tone || 'prank';
      const name = nameInput.value.trim();
      const isPG = pgToggle.checked;

      const base = pick(TONES[selectedTone]);
      const flavour = isPG ? pick(PG) : pick(SPICY);

      let msg = base;
      if (name) msg = `${name}, ${msg.charAt(0).toLowerCase() + msg.slice(1)}`;
      msg += ` ${flavour}`;

      msgEl.textContent = msg;
      setStatus("Banana delivered üçå");
    }

    // Event listeners
    genBtn.addEventListener('click', generate);
    nameInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') genBtn.click();
    });

    // Initial status
    setStatus("Ready.");
  </script>
</body>
</html>
